‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
üü¢ PLAN D‚ÄôIMPL√âMENTATION COPILOT ‚Äî SYNCHRONISATION DES CRIT√àRES PR√âPARATION JE√õNE / SUIVI (18/11/2025)
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

### Titre de la t√¢che
Synchroniser la validation des crit√®res m√©tier entre `/preparation-jeune.js` et `/suivi.js` (workflow pr√©paration au je√ªne)

### Description pr√©cise de la modification attendue
- Utiliser une cl√© commune dans localStorage (`criteresPreparation`) pour stocker le statut des crit√®res (id, valide, dateValidation)
- Lorsqu‚Äôun crit√®re est valid√© dans `/suivi.js`, mettre √† jour la cl√© `criteresPreparation` dans localStorage
- Dans `/preparation-jeune.js`, lire et mettre √† jour ce m√™me tableau pour afficher la progression en temps r√©el
- Ajouter une fonction utilitaire partag√©e pour valider un crit√®re (par id) et synchroniser l‚Äô√©tat dans les deux pages
- Tester la synchronisation‚ÄØ: valider un crit√®re dans `/suivi.js` ‚Üí affichage instantan√© dans `/preparation-jeune.js`

### Fichiers concern√©s
- `/pages/preparation-jeune.js`
- `/pages/suivi.js`

### Audit des risques pr√©alable
- **Technique** :
  - D√©synchronisation des crit√®res entre les deux pages
  - Perte de progression ou de donn√©es utilisateur
  - Conflit de structure ou de format des crit√®res
  - R√©gression sur la logique m√©tier ou l‚Äôaffichage
  - Risque de doublon ou d‚Äôinitialisation incorrecte
- **UX** :
  - Affichage non mis √† jour, feedback absent ou trompeur
  - Probl√®me d‚Äôaccessibilit√© (navigation clavier, ARIA)
- **S√©curit√©** :
  - Donn√©es sensibles non prot√©g√©es dans le localStorage
- **Robustesse** :
  - Gestion des cas limites (modification d‚Äôun crit√®re, retour arri√®re, reset)
- **R√©gression** :
  - Perte de fonctionnalit√©s existantes ou conflit avec hooks/logique existante

#### Sous-checklist √† valider syst√©matiquement
- [ ] V√©rification de la pr√©sence/import de toutes les fonctions, hooks et variables utilis√©es dans le code modifi√©
- [ ] Identifier l‚Äôordre de tous les hooks React (useState, useEffect, etc.) afin de s‚Äôassurer qu‚Äôils sont d√©clar√©s uniquement en haut du corps du composant fonctionnel

### Checklist stricte s√©curit√© & qualit√© (√† cocher AVANT toute modification)
- [ ] Lecture compl√®te du code concern√© (d√©pendances, hooks, variables, fonctions‚Ä¶)
- [ ] Initialisation syst√©matique avant usage (hooks, variables, handlers)
- [ ] Tous les hooks React (useState, useEffect, etc.) sont d√©clar√©s uniquement en haut du corps du composant fonctionnel
- [ ] S√©paration stricte des √©tapes : initialisation, logique calcul√©e, handlers/fonctions, rendu
- [ ] V√©rification de la pr√©sence/import de toutes les fonctions, hooks et variables utilis√©es dans le code modifi√©
- [ ] Pas de doublons ni de d√©clarations superflues
- [ ] Contr√¥le d‚Äôerreur syst√©matique (compilation, runtime, SSR, rendu, accessibilit√©)
- [ ] Test du rendu sur tous les cas d‚Äôusage et cas limites
- [ ] Pr√©servation stricte des fonctionnalit√©s existantes
- [ ] Documentation claire de chaque √©tape, chaque validation, et toute action automatis√©e
- [ ] Validation utilisateur OBLIGATOIRE avant toute impl√©mentation

### Contr√¥les conformit√© √† r√©aliser
- Tests de sauvegarde/restauration des crit√®res
- V√©rification de l‚Äôaccessibilit√© (navigation clavier, ARIA)
- Tests de non-r√©gression sur les deux pages
- Tests multi-device (desktop, mobile, tablette)
- Gestion des cas limites (ex. : modification d‚Äôun crit√®re, retour arri√®re, reset)
- Contr√¥le de coh√©rence du format des crit√®res (id, statut, date)
- Lire toutes les entr√©es d‚Äôanomalies enregistr√©es dans le fichier `ANOMALIE roll back` afin d‚Äôidentifier les points de vigilance pour anticiper le risque d‚Äôerreur similaire lors du codage de cette modification

### Mise √† jour de l‚Äôavancement
- [ ] Non commenc√© | [ ] En cours | [ ] Termin√©
- Avancement pr√©cis/Pourcentage r√©el : 0 %
- Historique des mises √† jour :
  - 18/11/2025 : Plan d‚Äôimpl√©mentation r√©dig√© et valid√© par l‚Äôutilisateur

### Point de vigilance
- V√©rifier les entr√©es du fichier `ANOMALIE roll back` pour identifier les erreurs similaires rencontr√©es par le pass√©
- Ajouter des tests sp√©cifiques pour √©viter les r√©gressions identifi√©es
- Documenter toute anomalie d√©tect√©e dans le fichier `ANOMALIE roll back` avec date, heure, et d√©tail complet

### üü¢ Am√©lioration continue (Copilot)
- Toujours relier explicitement chaque action utilisateur (ex‚ÄØ: validation d‚Äôun crit√®re) √† la mise √† jour des √©tats m√©tier (activation, progression, affichage dynamique).
- V√©rifier syst√©matiquement que chaque √©tape du plan est traduite en code et test√©e dans le workflow r√©el (affichage, activation, synchronisation, feedback).
- Apr√®s chaque modification, tester le parcours complet utilisateur et documenter le r√©sultat (capture, rapport d‚Äôex√©cution).
- Ne jamais supposer qu‚Äôun √©tat est synchronis√© sans v√©rification concr√®te (affichage, console, tests).
- Ajouter un contr√¥le visuel ou un feedback √† chaque action cl√© pour garantir la conformit√© UX et m√©tier.
- Documenter toute anomalie ou √©cart dans le fichier d√©di√© et proposer imm√©diatement une correction ou un rollback.
- Relire le plan et le template avant chaque impl√©mentation pour s‚Äôassurer que toutes les √©tapes sont respect√©es.
- Se parler √† soi-m√™me (Copilot)‚ÄØ: ¬´‚ÄØAi-je bien reli√© chaque √©tape du plan au code‚ÄØ? Ai-je test√© le workflow complet‚ÄØ? Ai-je document√© chaque action et chaque anomalie‚ÄØ?‚ÄØ¬ª

### Proposition de rollback
- En cas de probl√®me, revenir √† la version pr√©c√©dente des deux fichiers
- Documenter toute anomalie dans le fichier `ANOMALIE roll back` avec date, heure, et d√©tail complet

### Rapport Markdown Copilot
- **Avant modification** :
  - Les crit√®res m√©tier ne sont pas synchronis√©s entre `/preparation-jeune.js` et `/suivi.js`
  - La progression et la validation ne sont pas partag√©es
- **Apr√®s modification** :
  - Synchronisation stricte des crit√®res via localStorage
  - Validation d‚Äôun crit√®re dans `/suivi.js` ‚Üí affichage instantan√© dans `/preparation-jeune.js`
  - Fonction utilitaire partag√©e pour garantir la coh√©rence
  - Tests et documentation r√©alis√©s

### Validation explicite de l‚Äôutilisateur (OBLIGATOIRE)
- [x] Plan valid√© par l‚Äôutilisateur √† la date : 18/11/2025
### üü¢ Am√©lioration continue (Copilot)
- Toujours relier explicitement chaque action utilisateur (ex‚ÄØ: validation d‚Äôun crit√®re) √† la mise √† jour des √©tats m√©tier (activation, progression, affichage dynamique).
- V√©rifier syst√©matiquement que chaque √©tape du plan est traduite en code et test√©e dans le workflow r√©el (affichage, activation, synchronisation, feedback).
- Apr√®s chaque modification, tester le parcours complet utilisateur et documenter le r√©sultat (capture, rapport d‚Äôex√©cution).
- Ne jamais supposer qu‚Äôun √©tat est synchronis√© sans v√©rification concr√®te (affichage, console, tests).
- Ajouter un contr√¥le visuel ou un feedback √† chaque action cl√© pour garantir la conformit√© UX et m√©tier.
- Documenter toute anomalie ou √©cart dans le fichier d√©di√© et proposer imm√©diatement une correction ou un rollback.
- Relire le plan et le template avant chaque impl√©mentation pour s‚Äôassurer que toutes les √©tapes sont respect√©es.
- Se parler √† soi-m√™me (Copilot)‚ÄØ: ¬´‚ÄØAi-je bien reli√© chaque √©tape du plan au code‚ÄØ? Ai-je test√© le workflow complet‚ÄØ? Ai-je document√© chaque action et chaque anomalie‚ÄØ?‚ÄØ¬ª
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
üü¢ PLAN D‚ÄôIMPL√âMENTATION ‚Äî SYNCHRONISATION DES CRIT√àRES PR√âPARATION JE√õNE / SUIVI (18/11/2025)
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

## Titre de la t√¢che
Synchroniser la validation des crit√®res m√©tier entre `/preparation-jeune.js` et `/suivi.js` (workflow pr√©paration au je√ªne)

## Description pr√©cise de la modification attendue
- Utiliser une cl√© commune dans localStorage (`criteresPreparation`) pour stocker le statut des crit√®res (id, valide, dateValidation)
- Lorsqu‚Äôun crit√®re est valid√© dans `/suivi.js`, mettre √† jour la cl√© `criteresPreparation` dans localStorage
- Dans `/preparation-jeune.js`, lire et mettre √† jour ce m√™me tableau pour afficher la progression en temps r√©el
- Ajouter une fonction utilitaire partag√©e pour valider un crit√®re (par id) et synchroniser l‚Äô√©tat dans les deux pages
- Tester la synchronisation‚ÄØ: valider un crit√®re dans `/suivi.js` ‚Üí affichage instantan√© dans `/preparation-jeune.js`

## Fichiers concern√©s
- `/pages/preparation-jeune.js`
- `/pages/suivi.js`

## Audit des risques pr√©alable
- D√©synchronisation des crit√®res entre les deux pages
- Perte de progression ou de donn√©es utilisateur
- Conflit de structure ou de format des crit√®res
- R√©gression sur la logique m√©tier ou l‚Äôaffichage
- Risque de doublon ou d‚Äôinitialisation incorrecte
- [En cas de risque] : rollback imm√©diat, rapport dans `ANOMALIE roll back`

## Checklist stricte s√©curit√© & qualit√© (√† cocher AVANT toute modification)
- [ ] Lecture compl√®te du code concern√© (d√©pendances, hooks, variables, fonctions‚Ä¶)
- [ ] Initialisation syst√©matique avant usage (hooks, variables, handlers)
- [ ] Tous les hooks React (useState, useEffect, etc.) sont d√©clar√©s uniquement en haut du corps du composant fonctionnel
- [ ] S√©paration stricte des √©tapes : initialisation, logique calcul√©e, handlers/fonctions, rendu
- [ ] V√©rification de la pr√©sence/import de toutes les fonctions, hooks et variables utilis√©es dans le code modifi√©
- [ ] Pas de doublons ni de d√©clarations superflues
- [ ] Contr√¥le d‚Äôerreur syst√©matique (compilation, runtime, SSR, rendu, accessibilit√©)
- [ ] Test du rendu sur tous les cas d‚Äôusage et cas limites
- [ ] Pr√©servation stricte des fonctionnalit√©s existantes
- [ ] Documentation claire de chaque √©tape, chaque validation, et toute action automatis√©e
- [ ] Validation utilisateur OBLIGATOIRE avant toute impl√©mentation

## Contr√¥les conformit√© √† r√©aliser
- Tests de sauvegarde/restauration des crit√®res
- V√©rification de l‚Äôaccessibilit√© (navigation clavier, ARIA)
- Tests de non-r√©gression sur les deux pages
- Tests multi-device (desktop, mobile, tablette)
- Gestion des cas limites (ex. : modification d‚Äôun crit√®re, retour arri√®re, reset)
- Contr√¥le de coh√©rence du format des crit√®res (id, statut, date)
- Lire toutes les entr√©es d‚Äôanomalies enregistr√©es dans le fichier `ANOMALIE roll back` afin d‚Äôidentifier les points de vigilance pour anticiper le risque d‚Äôerreur similaire lors du codage de cette modification

## Mise √† jour de l‚Äôavancement
- [ ] Non commenc√© | [ ] En cours | [ ] Termin√©
- Avancement pr√©cis/Pourcentage r√©el : 0 %
- Historique des mises √† jour :
  - 18/11/2025 : Plan d‚Äôimpl√©mentation r√©dig√© et soumis pour validation

## Point de vigilance
- V√©rifier les entr√©es du fichier `ANOMALIE roll back` pour identifier les erreurs similaires rencontr√©es par le pass√©
- Ajouter des tests sp√©cifiques pour √©viter les r√©gressions identifi√©es
- Documenter toute anomalie d√©tect√©e dans le fichier `ANOMALIE roll back` avec date, heure, et d√©tail complet

## Proposition de rollback
- En cas de probl√®me, revenir √† la version pr√©c√©dente des deux fichiers
- Documenter toute anomalie dans le fichier `ANOMALIE roll back` avec date, heure, et d√©tail complet

## Rapport Markdown Copilot
- **Avant modification** :
  - Les crit√®res m√©tier ne sont pas synchronis√©s entre `/preparation-jeune.js` et `/suivi.js`
  - La progression et la validation ne sont pas partag√©es
- **Apr√®s modification** :
  - Synchronisation stricte des crit√®res via localStorage
  - Validation d‚Äôun crit√®re dans `/suivi.js` ‚Üí affichage instantan√© dans `/preparation-jeune.js`
  - Fonction utilitaire partag√©e pour garantir la coh√©rence
  - Tests et documentation r√©alis√©s

## Validation explicite de l‚Äôutilisateur (OBLIGATOIRE)
- [ ] Plan valid√© par l‚Äôutilisateur √† la date : ___
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
üìù AUDIT DE CONFORMIT√â ‚Äì PR√âPARATION JE√õNE (18/11/2025)
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

1. Lecture compl√®te du code et de l‚Äôhistorique des anomalies
  - Tous les hooks sont d√©sormais dans le composant principal
  - Import React et hooks en d√©but de fichier
  - Initialisation stricte des variables, handlers, logique m√©tier
  - Ordre d‚Äôinitialisation respect√©

2. Contr√¥les qualit√© (template m√©tier)
  - [x] Compilation sans erreur
  - [x] Rendu conforme (timeline, phases, feedback, message personnel)
  - [x] S√©paration stricte des contextes
  - [x] Navigation fluide entre pr√©paration et suivi
  - [x] Tra√ßabilit√© des anomalies et corrections
  - [x] Documentation dans Anomalie roll back et am√©lioration continue

3. Identification des anomalies et axes d‚Äôam√©lioration
  - Anomalie pr√©c√©dente‚ÄØ: hook hors composant (corrig√©e, document√©e)
  - Anomalie r√©cente‚ÄØ: absence d‚Äôimport React (corrig√©e, document√©e)
  - Recommandation‚ÄØ: syst√©matiser la relecture de la checklist et de l‚Äôhistorique avant chaque modification
  - Axe √† am√©liorer‚ÄØ: enrichir la synchronisation entre `/suivi.js` et `/preparation-jeune.js`, feedback audio/vid√©o, accessibilit√©

4. Synth√®se de conformit√©
  - Le code est conforme √† la checklist m√©tier et √† la structure de la template
  - Toutes les corrections sont trac√©es et valid√©es
  - Aucun conflit, aucune perte de fonction
  - Pr√™t pour enrichissement UX et synchronisation

5. Validation utilisateur requise avant toute nouvelle √©volution
# üü¢ PLAN D‚ÄôIMPL√âMENTATION COPILOT

## Titre de la t√¢che
Cr√©er une modale pour la saisie des informations n√©cessaires √† la pr√©paration au je√ªne

## **Description pr√©cise de la modification attendue**
Ajouter une modale permettant √† l‚Äôutilisateur de renseigner les informations suivantes avant de commencer la pr√©paration au je√ªne :
- Date pr√©vue du je√ªne
- Dur√©e de la pr√©paration (en jours)
- Objectif personnel

La modale doit valider les donn√©es saisies, les sauvegarder dans le `localStorage` et mettre √† jour l‚Äô√©tat global de l‚Äôapplication pour activer la pr√©paration. Une fois les informations valid√©es, l‚Äôutilisateur doit √™tre redirig√© vers la timeline de pr√©paration.

## **Fichiers concern√©s**
- `/pages/preparation-jeune.js`
- `/components/StartPreparationModal.js` (nouveau fichier √† cr√©er)

## **Audit des risques pr√©alable**
- **Technique** :
  - Mauvaise gestion des √©tats React (ex. : `useState`, `useEffect` mal plac√©s).
  - Risque de conflit avec les hooks existants.
- **UX** :
  - Validation des champs insuffisante (ex. : date dans le pass√©, objectif vide).
  - Probl√®mes d‚Äôaccessibilit√© (navigation clavier, ARIA).
- **S√©curit√©** :
  - Donn√©es sensibles non prot√©g√©es dans le `localStorage`.
- **R√©gression** :
  - Risque d‚Äôimpacter les fonctionnalit√©s existantes de la page `/preparation-jeune.js`.
- **Robustesse** :
  - Gestion des cas limites (ex. : utilisateur ferme la modale sans sauvegarder).

**Sous-checklist √† valider syst√©matiquement :**
- [ ] V√©rification de la pr√©sence/import de toutes les fonctions, hooks et variables utilis√©es dans le code modifi√©.
- [ ] Identifier l‚Äôordre de tous les hooks React (useState, useEffect, etc.) afin de s‚Äôassurer qu‚Äôils sont d√©clar√©s uniquement en haut du corps du composant fonctionnel, et jamais dans une fonction, une boucle, un map, un if, etc.

## **Checklist stricte s√©curit√© & qualit√© (√† cocher AVANT toute modification)**
- [ ] Lecture compl√®te du code concern√© (d√©pendances, hooks, variables, fonctions‚Ä¶).
- [ ] Initialisation syst√©matique avant usage (hooks, variables, handlers).
- [ ] Tous les hooks React (useState, useEffect, etc.) sont d√©clar√©s uniquement en haut du corps du composant fonctionnel.
- [ ] S√©paration stricte des √©tapes : initialisation, logique calcul√©e, handlers/fonctions, rendu.
- [ ] V√©rification de la pr√©sence/import de toutes les fonctions, hooks et variables utilis√©es dans le code modifi√©.
- [ ] Pas de doublons ni de d√©clarations superflues.
- [ ] Contr√¥le d‚Äôerreur syst√©matique (compilation, runtime, SSR, rendu, accessibilit√©).
- [ ] Test du rendu sur tous les cas d‚Äôusage et cas limites.
- [ ] Pr√©servation stricte des fonctionnalit√©s existantes.
- [ ] Documentation claire de chaque √©tape, chaque validation, et toute action automatis√©e.
- [ ] Validation utilisateur OBLIGATOIRE avant toute impl√©mentation.

## **Contr√¥les conformit√© √† r√©aliser**
- Tests de sauvegarde/restauration des donn√©es saisies.
- V√©rification de l‚Äôaccessibilit√© (navigation clavier, ARIA).
- Tests de non-r√©gression sur la page `/preparation-jeune.js`.
- Tests multi-device (desktop, mobile, tablette).
- Gestion des cas limites (ex. : fermeture de la modale sans sauvegarde).
- Lire toutes les entr√©es d‚Äôanomalies enregistr√©es dans le fichier `ANOMALIE roll back` afin d‚Äôidentifier les points de vigilance pour anticiper le risque d‚Äôerreur similaire lors du codage de cette modification.

## **Mise √† jour de l‚Äôavancement**
- [ ] Non commenc√© | [ ] En cours | [ ] Termin√©
- Avancement pr√©cis/Pourcentage r√©el : 0 %
- Historique des mises √† jour :
  - 18/11/2025 : Plan d‚Äôimpl√©mentation r√©dig√© et soumis pour validation.

## **Point de vigilance**
- V√©rifier les entr√©es du fichier `ANOMALIE roll back` pour identifier les erreurs similaires rencontr√©es par le pass√©.
- Ajouter des tests sp√©cifiques pour √©viter les r√©gressions identifi√©es.
- Documenter toute anomalie d√©tect√©e dans le fichier `ANOMALIE roll back` avec date, heure, et d√©tail complet.

## **Proposition de rollback**
- En cas de probl√®me, revenir √† la version pr√©c√©dente de `/pages/preparation-jeune.js`.
- Documenter toute anomalie dans le fichier `ANOMALIE roll back` avec date, heure, et d√©tail complet.

## **Rapport Markdown Copilot**
- **Avant modification** :
  - La page `/preparation-jeune.js` ne contient pas de fonctionnalit√© pour saisir les informations n√©cessaires √† la pr√©paration.
  - Aucun composant d√©di√© √† la saisie des informations n‚Äôexiste.
- **Apr√®s modification** :
  - Ajout d‚Äôune modale pour la saisie des informations (date, dur√©e, objectif).
  - Sauvegarde des donn√©es dans le `localStorage`.
  - Mise √† jour de l‚Äô√©tat global pour activer la pr√©paration.

## **Validation explicite de l‚Äôutilisateur (OBLIGATOIRE)**
- [ ] Plan valid√© par l‚Äôutilisateur √† la date : ___

---
# üü¢ RAPPORT D'AUDIT ‚Äî √âCARTS ET AM√âLIORATIONS (18/11/2025)

## Synth√®se des √©carts constat√©s
1. La timeline de pr√©paration et les crit√®res de validation ne s‚Äôaffichent plus ou ne sont plus mis √† jour apr√®s saisie.
2. L‚Äôenregistrement de la p√©riode de je√ªne ne d√©clenche pas le d√©marrage du suivi ni l‚Äôaffichage de la progression.
3. Le bouton de r√©initialisation n‚Äôappara√Æt plus ou ne fonctionne pas correctement.

## Analyse des causes
- Mauvaise synchronisation des √©tats React (`preparationActive`, crit√®res, timeline) apr√®s la saisie des infos de pr√©paration.
- La logique d‚Äôaffichage et de gestion des crit√®res n‚Äôest plus correctement reli√©e √† l‚Äô√©tat global.
- Le feedback visuel et la r√©initialisation ne sont pas syst√©matiquement g√©r√©s.

## Recommandations d‚Äôam√©lioration
- Restaurer l‚Äôaffichage dynamique de la timeline et des crit√®res, synchroniser l‚Äô√©tat `preparationActive` et la liste des crit√®res apr√®s saisie.
- Cr√©er/adapter des composants d√©di√©s pour la timeline et les crit√®res.
- S‚Äôassurer que le bouton ¬´‚ÄØR√©initialiser ma pr√©paration‚ÄØ¬ª est toujours visible et fonctionnel d√®s que la pr√©paration est active.
- Ajouter un feedback visuel apr√®s chaque action cl√© (d√©marrage, validation, r√©initialisation).
- S√©parer clairement la logique d‚Äôinitialisation, de gestion des crit√®res, et du rendu.
- Tester le workflow complet pour garantir la conformit√© UX et m√©tier.

---
# üü¢ PLAN D‚ÄôIMPL√âMENTATION ‚Äî RESTAURATION DU WORKFLOW M√âTIER PR√âPARATION JE√õNE (18/11/2025) 19:22
## Mise √† jour de l‚Äôavancement
- [ ] Non commenc√© | [ ] En cours | [ ] Termin√©
- Avancement pr√©cis/Pourcentage r√©el : 0 %
- Historique des mises √† jour :
  - 18/11/2025 : Plan d‚Äôimpl√©mentation r√©dig√© et soumis pour validation

## Titre de la t√¢che
Restaurer et fiabiliser le workflow m√©tier de la pr√©paration au je√ªne (timeline, crit√®res, validation, r√©initialisation, feedback)

## Description pr√©cise de la modification attendue
- R√©afficher la timeline dynamique avec tous les crit√®res m√©tier (statut, validation, conseils)
- Synchroniser l‚Äô√©tat de pr√©paration (`preparationActive`) et la liste des crit√®res apr√®s saisie des infos
- Permettre la validation quotidienne des crit√®res (manuelle ou automatique)
- Afficher la progression globale et le message personnel
- Rendre le bouton ¬´‚ÄØR√©initialiser ma pr√©paration‚ÄØ¬ª toujours accessible et fonctionnel
- Ajouter un feedback visuel apr√®s chaque action cl√© (d√©marrage, validation, r√©initialisation)
- S√©parer clairement la logique d‚Äôinitialisation, de gestion des crit√®res, et du rendu
- Tester le workflow complet pour garantir la conformit√© UX et m√©tier

## Fichiers concern√©s
- `/pages/preparation-jeune.js`
- `/components/StartPreparationModal.js`
- `/components/TimelineProgressionPreparation.js` (√† cr√©er ou adapter)
- `/components/CriterePreparationCard.js` (√† cr√©er ou adapter)

## Audit des risques pr√©alable
- Perte de la logique m√©tier (crit√®res, progression, feedback)
- Mauvaise synchronisation des √©tats React
- R√©gression sur l‚Äôaffichage ou la validation des crit√®res
- Probl√®me d‚Äôaccessibilit√© (navigation clavier, ARIA)
- Perte de donn√©es utilisateur (progression, message)
- Conflit avec hooks ou logique existante
- Risque de doublon ou d‚Äôinitialisation incorrecte
- Mauvaise gestion de l‚Äô√©tat local vs. persistance (localStorage/Supabase)
- [En cas de risque] : rollback imm√©diat, rapport dans `ANOMALIE roll back`

**Sous-checklist √† valider syst√©matiquement**
- [ ] V√©rification de la pr√©sence/import de toutes les fonctions, hooks et variables utilis√©es dans le code modifi√©
- [ ] Identifier l‚Äôordre de tous les hooks React (useState, useEffect, etc.) afin de s‚Äôassurer qu‚Äôils sont d√©clar√©s uniquement en haut du corps du composant fonctionnel

## Checklist stricte s√©curit√© & qualit√© (√† cocher AVANT toute modification)
- [ ] Lecture compl√®te du code concern√© (d√©pendances, hooks, variables, fonctions‚Ä¶)
- [ ] Initialisation syst√©matique avant usage (hooks, variables, handlers)
- [ ] Tous les hooks React (useState, useEffect, etc.) sont d√©clar√©s uniquement en haut du corps du composant fonctionnel
- [ ] S√©paration stricte des √©tapes : initialisation, logique calcul√©e, handlers/fonctions, rendu
- [ ] V√©rification de la pr√©sence/import de toutes les fonctions, hooks et variables utilis√©es dans le code modifi√©
- [ ] Pas de doublons ni de d√©clarations superflues
- [ ] Contr√¥le d‚Äôerreur syst√©matique (compilation, runtime, SSR, rendu, accessibilit√©)
- [ ] Test du rendu sur tous les cas d‚Äôusage et cas limites
- [ ] Pr√©servation stricte des fonctionnalit√©s existantes
- [ ] Documentation claire de chaque √©tape, chaque validation, et toute action automatis√©e
- [ ] Validation utilisateur OBLIGATOIRE avant toute impl√©mentation

## Contr√¥les conformit√© √† r√©aliser
- Tests de sauvegarde/restauration des donn√©es saisies
- V√©rification de l‚Äôaccessibilit√© (navigation clavier, ARIA)
- Tests de non-r√©gression sur la page `/preparation-jeune.js`
- Tests multi-device (desktop, mobile, tablette)
- Gestion des cas limites (ex. : fermeture de la modale sans sauvegarde)
- Contr√¥le de coh√©rence entre la date de d√©but de pr√©paration et la date du je√ªne‚ÄØ: calcul automatique des jalons, affichage des crit√®res non r√©alisables, adaptation du plan et des conseils.
- Affichage d‚Äôun message d‚Äôencouragement et de recommandation positive en cas de pr√©paration courte ou tardive (valorisation de la d√©marche, conseils pour la prochaine fois).
- Lire toutes les entr√©es d‚Äôanomalies enregistr√©es dans le fichier `ANOMALIE roll back` afin d‚Äôidentifier les points de vigilance pour anticiper le risque d‚Äôerreur similaire lors du codage de cette modification

## Mise √† jour de l‚Äôavancement
- [ ] Non commenc√© | [ ] En cours | [ ] Termin√©
- Avancement pr√©cis/Pourcentage r√©el : 0 %
- Historique des mises √† jour :
  - 18/11/2025 : Plan d‚Äôimpl√©mentation r√©dig√© et soumis pour validation

## Point de vigilance
- V√©rifier les entr√©es du fichier `ANOMALIE roll back` pour identifier les erreurs similaires rencontr√©es par le pass√©
- Ajouter des tests sp√©cifiques pour √©viter les r√©gressions identifi√©es
- Documenter toute anomalie d√©tect√©e dans le fichier `ANOMALIE roll back` avec date, heure, et d√©tail complet

## Proposition de rollback
- En cas de probl√®me, revenir √† la version pr√©c√©dente de `/pages/preparation-jeune.js`
- Documenter toute anomalie dans le fichier `ANOMALIE roll back` avec date, heure, et d√©tail complet

## Rapport Markdown Copilot
- **Avant modification** :
  - La page `/preparation-jeune.js` n‚Äôaffiche plus la timeline ni les crit√®res m√©tier
  - Le bouton de r√©initialisation n‚Äôest pas fonctionnel
  - La progression et le message personnel ne sont pas visibles
- **Apr√®s modification** :
  - Timeline dynamique restaur√©e avec tous les crit√®res m√©tier
  - Synchronisation des √©tats et affichage correct
  - Validation quotidienne et progression globale visibles
  - Bouton de r√©initialisation accessible et fonctionnel
  - Feedback visuel ajout√©
  - Contr√¥le automatique de la coh√©rence des phases (pr√©paration/je√ªne), adaptation dynamique des crit√®res et feedbacks selon la date r√©elle de pr√©paration
  - Message d‚Äôencouragement et de recommandation positive affich√© si la pr√©paration est courte ou tardive

## üü¢ Am√©lioration continue (Copilot)
- Toujours relier explicitement chaque action utilisateur (ex : validation de la modale) √† la mise √† jour des √©tats m√©tier (activation, initialisation des crit√®res, affichage dynamique).
- V√©rifier syst√©matiquement que chaque √©tape du plan est traduite en code et test√©e dans le workflow r√©el (affichage, activation, r√©initialisation, feedback).
- Apr√®s chaque modification, tester le parcours complet utilisateur et documenter le r√©sultat (capture, rapport d‚Äôex√©cution).
- Ne jamais supposer qu‚Äôun √©tat est synchronis√© sans v√©rification concr√®te (affichage, console, tests).
- Ajouter un contr√¥le visuel ou un feedback √† chaque action cl√© pour garantir la conformit√© UX et m√©tier.
- Documenter toute anomalie ou √©cart dans le fichier d√©di√© et proposer imm√©diatement une correction ou un rollback.
- Relire le plan et le template avant chaque impl√©mentation pour s‚Äôassurer que toutes les √©tapes sont respect√©es.
- Se parler √† soi-m√™me (Copilot) : ¬´ Ai-je bien reli√© chaque √©tape du plan au code ? Ai-je test√© le workflow complet ? Ai-je document√© chaque action et chaque anomalie ? ¬ª

## Validation explicite de l‚Äôutilisateur (OBLIGATOIRE)
- [ ] Plan valid√© par l‚Äôutilisateur √† la date : ___

---
üü¢ Checklist d‚Äôimpl√©mentation et avancement
Fonctionnalit√©	Statut	Commentaire / Action √† venir
Modal de saisie (date, dur√©e, objectif)	‚úÖ Termin√©	Cr√©√©e et int√©gr√©e, validation et feedback OK
Sauvegarde dans localStorage	‚úÖ Termin√©	Fonctionnelle
Activation du workflow pr√©paration	‚úÖ Termin√©	Synchronisation des √©tats OK
Timeline dynamique et crit√®res m√©tier	‚úÖ Termin√©	Affichage, validation manuelle OK
Barre de progression globale	‚úÖ Termin√©	Affichage et calcul OK
Synth√®se finale et message personnel	‚úÖ Termin√©	Saisie, affichage, sauvegarde OK
Bouton de r√©initialisation	‚úÖ Termin√©	Fonctionnel
Feedback visuel et ARIA-live	‚úÖ Termin√©	Accessible, test√©
Contr√¥le coh√©rence pr√©paration/je√ªne (jalons, alertes)	‚è≥ √Ä faire	Calcul automatique, adaptation dynamique √† int√©grer
Message d‚Äôencouragement/recommandation positive	‚è≥ √Ä faire	√Ä afficher en cas de pr√©paration courte/tardive
Adaptation dynamique des crit√®res selon la date r√©elle	‚è≥ √Ä faire	Affichage des crit√®res non r√©alisables, conseils adapt√©s
Tests multi-device et accessibilit√©	‚è≥ √Ä faire	√Ä compl√©ter
Documentation et audit	‚è≥ √Ä faire	Mise √† jour continue
Je vais maintenant mettre √† jour le fichier docs/Historique plan d implementation preparation jeune avec ce tableau et l‚Äô√©tat r√©el pour √©viter tout doublon.

Voici la version finale √† jour, √† copier dans votre documentation‚ÄØ:

Mise √† jour de l‚Äôavancement
üü¢ Checklist d‚Äôimpl√©mentation et avancement
Fonctionnalit√©	Statut	Commentaire / Action √† venir
Modal de saisie (date, dur√©e, objectif)	‚úÖ Termin√©	Cr√©√©e et int√©gr√©e, validation et feedback OK
Sauvegarde dans localStorage	‚úÖ Termin√©	Fonctionnelle
Activation du workflow pr√©paration	‚úÖ Termin√©	Synchronisation des √©tats OK
Timeline dynamique et crit√®res m√©tier	‚úÖ Termin√©	Affichage, validation manuelle OK
Barre de progression globale	‚úÖ Termin√©	Affichage et calcul OK
Synth√®se finale et message personnel	‚úÖ Termin√©	Saisie, affichage, sauvegarde OK
Bouton de r√©initialisation	‚úÖ Termin√©	Fonctionnel
Feedback visuel et ARIA-live	‚úÖ Termin√©	Accessible, test√©
Contr√¥le coh√©rence pr√©paration/je√ªne (jalons, alertes)	‚è≥ √Ä faire	Calcul automatique, adaptation dynamique √† int√©grer
Message d‚Äôencouragement/recommandation positive	‚è≥ √Ä faire	√Ä afficher en cas de pr√©paration courte/tardive
Adaptation dynamique des crit√®res selon la date r√©elle	‚è≥ √Ä faire	Affichage des crit√®res non r√©alisables, conseils adapt√©s
Tests multi-device et accessibilit√©	‚è≥ √Ä faire	√Ä compl√©ter
Documentation et audit	‚è≥ √Ä faire	Mise √† jour continue
Souhaitez-vous que je tente √† nouveau l‚Äôinsertion automatique dans le fichier, ou souhaitez-vous le copier manuellement‚ÄØ?


Titre de la t√¢che

Validation automatique du crit√®re ¬´‚ÄØRespect strict des quantit√©s √† chaque repas‚ÄØ¬ª via la saisie alimentaire 19/11/2025
Description pr√©cise de la modification attendue
Permettre la validation automatique du crit√®re m√©tier ¬´‚ÄØRespect strict des quantit√©s √† chaque repas‚ÄØ¬ª lors de la saisie alimentaire sur suivi.js.
Si l‚Äôutilisateur saisit une quantit√© sup√©rieure √† la portion recommand√©e pour un aliment, le crit√®re n‚Äôest pas valid√©.
Si toutes les quantit√©s saisies sont conformes √† la portion recommand√©e, le crit√®re est valid√© automatiquement.
Affichage d‚Äôun feedback visuel imm√©diat (message, ic√¥ne, animation) selon le respect ou non du crit√®re.
Synchronisation de la progression sur preparation-jeune.js.
Fichiers concern√©s
suivi.js
validerCriterePreparation.js
preparation-jeune.js
FeedbackSynth√©tique.js (si feedback visuel d√©di√©)
Audit des risques pr√©alable
Risque de mauvaise interpr√©tation des portions recommand√©es (v√©rifier r√©f√©rentiel).
Risque de non-synchronisation entre la saisie et la validation du crit√®re.
Risque de r√©gression sur la logique existante de validation manuelle.
Risque d‚Äôerreur d‚Äôaccessibilit√© (feedback non visible, message non vocalis√©).
Risque de perte de donn√©es si la saisie est incompl√®te ou mal enregistr√©e.
V√©rification stricte de l‚Äôordre des hooks React (aucun hook dans une fonction, boucle, map, if).
V√©rification de la pr√©sence/import de toutes les fonctions utilis√©es.

Checklist stricte s√©curit√© & qualit√©
 Lecture compl√®te du code concern√© (d√©pendances, hooks, variables, fonctions‚Ä¶)
 Initialisation syst√©matique avant usage (hooks, variables, handlers)
 Tous les hooks React sont d√©clar√©s uniquement en haut du corps du composant fonctionnel
 S√©paration stricte des √©tapes‚ÄØ: initialisation ‚ûî logique ‚ûî handler ‚ûî rendu
 V√©rification de la pr√©sence/import de toutes les fonctions utilis√©es
 Contr√¥le d‚Äôerreur syst√©matique (compilation, runtime, SSR, rendu, accessibilit√©)
 Test du rendu sur tous les cas d‚Äôusage et cas limites (quantit√© > portion, quantit√© = portion, quantit√© < portion)
 Pr√©servation stricte des fonctionnalit√©s existantes
 Documentation claire de chaque √©tape et rapport Markdown avant/apr√®s
 Validation utilisateur OBLIGATOIRE avant toute impl√©mentation
Contr√¥les conformit√© √† r√©aliser
Test de validation automatique sur plusieurs aliments et portions
Test d‚Äôaccessibilit√© (feedback visuel et vocal)
Test de synchronisation entre suivi.js et preparation-jeune.js
Test multi-device et compatibilit√© navigateur
Lecture des anomalies roll back pour anticiper les erreurs similaires
Mise √† jour de l‚Äôavancement
 Non commenc√© | [ ] En cours | [ ] Termin√©
Avancement pr√©cis/Pourcentage r√©el‚ÄØ: 0‚ÄØ%
Historique des mises √† jour‚ÄØ: 19/11/2025, plan soumis √† validation
Point de vigilance
V√©rifier la coh√©rence du r√©f√©rentiel des portions recommand√©es
S‚Äôassurer que la validation automatique n‚Äô√©crase pas la validation manuelle existante
Contr√¥ler la tra√ßabilit√© m√©tier et la synchronisation r√©elle
Documenter toute anomalie et proposer un rollback imm√©diat si bug
Proposition de rollback
Si la validation automatique g√©n√®re une r√©gression ou un bug, rollback √† la validation manuelle pr√©c√©dente
Documenter l‚Äôaction dans le fichier Anomalie roll back (date, heure, contexte)
üü¢ Am√©lioration continue (Copilot)
Relier explicitement chaque saisie alimentaire √† la validation automatique du crit√®re m√©tier (activation, feedback, synchronisation).
V√©rifier syst√©matiquement que la logique de validation automatique est test√©e dans le workflow r√©el (affichage, feedback, synchronisation).
Apr√®s chaque modification, tester le parcours complet utilisateur et documenter le r√©sultat (capture, rapport d‚Äôex√©cution).
Ne jamais supposer qu‚Äôun crit√®re est valid√© sans v√©rification concr√®te (affichage, console, tests).
Ajouter un contr√¥le visuel ou un feedback √† chaque action cl√© pour garantir la conformit√© UX et m√©tier.
Documenter toute anomalie ou √©cart dans le fichier d√©di√© et proposer imm√©diatement une correction ou un rollback.
Relire le plan et le template avant chaque impl√©mentation pour s‚Äôassurer que toutes les √©tapes sont respect√©es.
Se parler √† soi-m√™me (Copilot)‚ÄØ: ¬´‚ÄØAi-je bien reli√© chaque √©tape du plan au code‚ÄØ? Ai-je test√© le workflow complet‚ÄØ? Ai-je document√© chaque action et chaque anomalie‚ÄØ?‚ÄØ¬ª
Rapport Markdown Copilot
G√©n√©rer un rapport structur√© avant et apr√®s modification (structure, fonctions, hooks, changements, feedback)
Rapport √† valider par l‚Äôutilisateur avant toute impl√©mentation
Validation explicite de l‚Äôutilisateur (OBLIGATOIRE)
 Plan valid√© par l‚Äôutilisateur √† la date‚ÄØ: ___
